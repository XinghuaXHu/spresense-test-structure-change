#====================================================================#
#
#       File Name: config.mk
#
#       Description: CppUTest Make Configurations.
#
#       Notes: (C) Copyright 2015 Sony Corporation
#
#       Author: Tetsuya Sakai.
#
#====================================================================#
#--------------------------------------------------------------------#
# Make Common Execution Environment
#--------------------------------------------------------------------#
#------------------------------------------------#
# Target name
#------------------------------------------------#
TARGET			= test

#--------------------------------------------------------------------#
# User Selectable Informations.
#--------------------------------------------------------------------#
#------------------------------------------------#
# Select use coverage ON/OFF.
#------------------------------------------------#
#USE_COVERAGE	= ON
USE_COVERAGE	= OFF

#------------------------------------------------#
# Add User macro.
#------------------------------------------------#
DEFS		+= 

#--------------------------------------------------------------------#
# Test Common include dirs.
#--------------------------------------------------------------------#
INC_TEST_COMMON_DIR	= \
		  $(INC_DIR) \
		  -I$(INC_SYS_DIR) \
		  -I$(INC_DBG_DIR) \
		  -I$(INC_CPPUTEST_DIR)

#--------------------------------------------------------------------#
# Library information (Version)
#--------------------------------------------------------------------#
#------------------------------------------------#
# CppUTest Version
#------------------------------------------------#
CPPUTEST_VERSION	= 3.6

#--------------------------------------------------------------------#
# Compiler Option
#--------------------------------------------------------------------#
# Optimize Level
OPTIMIZE		= O2

#--------------------------------------------------------------------#
# Local Dependency.
#--------------------------------------------------------------------#
LOCAL_DEPENDENCY	= $(MAKE_CONFIG) $(MAKEFILE)

#--------------------------------------------------------------------#
# Root Configuration file
#--------------------------------------------------------------------#
#ROOT_CFG	= $(ROOT_DIR)/Src/Config/config.mk
#include $(ROOT_CFG)

#--------------------------------------------------------------------#
# Set Compiler Options
#--------------------------------------------------------------------#
#------------------------------------------------#
# Make Compiler Option Definitions
#------------------------------------------------#
COVERAGE_OPT	= -fprofile-arcs -ftest-coverage

ifeq ($(USE_COVERAGE),ON)
COPT	+= $(COVERAGE_OPT)
CXXOPT	+= $(COVERAGE_OPT)
LDOPT	+= $(COVERAGE_OPT) -lgcov
endif

