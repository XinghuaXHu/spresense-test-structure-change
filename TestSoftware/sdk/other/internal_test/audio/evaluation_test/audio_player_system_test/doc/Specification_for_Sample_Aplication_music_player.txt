#=====================================================================
#
#      File Name: Specification_for_Sample_Aplication_music_player.txt
#      
#      Description: Specifications of Sample application for Music Player only
#
#      Notes: (C) Copyright 2015 Sony Corporation
#
#      Author: Spritzer Audio Team (Tomonobu Hayakawa)
#
#=====================================================================

----------------------------------------------------------------------
1. Document OverView
----------------------------------------------------------------------

  本ドキュメントは、Music Player only 対応のサンプルアプリケーション（SDK 1.1）を示したものである。

----------------------------------------------------------------------
2. Basic Functions
----------------------------------------------------------------------

　本アプリケーションは、Spitzer-SDKに向けて、以下の機能を実現している。
　　- eMMC上の音楽ファイルを再生する。
　　- デバックシェル上のコマンドから操作が可能とする。
　　- USB機能は将来のために、マッピングしておく。

　※Codecごとのバイナリの入れ替え機能は未対応。

----------------------------------------------------------------------
3. Constraints
----------------------------------------------------------------------

　2016/3/M版は、以下の制約がある。

　　- 音楽操作は、開始・停止のみ。
　　- 再生可能ファイルは、下記(6. 再生可能ファイル)に指定したもののみ。
	・対応圧縮コーデックは、MP3/WAVのみ。
	・対応FSは、
		MP3: 48kHz、 44.1kHz、32kHz、16kHz のみ。
		WAV: 48kHz、 44.1kHz、32kHz、16kHz、96kHz、 88.2kHz、64kHz、192kHz、 176.4kHz
	・Codec/FS等は動的に切り替わらない。（即ち静的にのみ）
　　- FWの入れ替えは行わない。（Codec/SRCに応じて）
　　- リピート再生のみ行う。
　　- 4.1.5. SetInputDevice
	"0: eMMC FileSystem" のみ対応。
    - 4.1.6. SetOutputDevice
	"0: Adonis SP/HP" のみ対応。

----------------------------------------------------------------------
4. API
----------------------------------------------------------------------

　デバッグシェル上から以下のコマンドを発行することが可能である。
　　・PlayMusic
　　・StopMusic
　　・SetSpHp
　　・IncVol
　　・DecVol
　　・SetInputDevice
　　・SetOutputDevice
　　・SetReadyStatus
    ・NextTrack
　　・SetPlayerMode

また、静的には、以下のパラメータを変更できるようにする。

　　・CodecType : MP3/WAV
　　・FsType(kHz): 192/176.4/96/88.2/64/48/44.1/32/16

----------------------------------------------------------------------
4.1. 各API仕様
----------------------------------------------------------------------

4.1.1. PlayMusic
	概要　：音楽再生を開始する。
	引数　：なし 
	戻り値：エラーコード	

4.1.2. StopMusic
	概要　：音楽再生を停止する。
	引数　：なし 
	戻り値：エラーコード

4.1.3. IncVol 
	概要　：ボリュームを上げる。
	引数　：なし 
	戻り値：エラーコード

4.1.4. DecVol
	概要　：ボリュームを下げる。
	引数　：なし 
	戻り値：エラーコード

4.1.5. SetInputDevice
	概要　：入力デバイスを設定する。
		「SetReadyStatusコマンド発行後」のみ、本コマンドの実行が可能となる。
	引数　：
		0: eMMC FileSystem（Default）
		1: A2DP Media Packet FiFo
		2: I2S Input
 
	戻り値：エラーコード

4.1.6. SetOutputDevice
	概要　：出力デバイスを設定する。
		「SetReadyStatusコマンド発行後」のみ、本コマンドの実行が可能となる。
	引数　：
		0: Adonis SP/HP（Default）
		1: I2S Output
		2: A2DP Media Packet FiFo
 
	戻り値：エラーコード

4.1.7. SetReadyStatus
	概要　：Audio sub-systemをready状態に遷移させる。
		発行可能なタイミングは、「StopMusicコマンド発行後」となる。
	引数　：なし
	戻り値：エラーコード

4.1.8. NextTrack
	概要　：Player機能モードでの次曲選択する。
		発行可能なタイミングは、「PlayMusic発行後」となる。
	引数　：なし
	戻り値：エラーコード

4.1.9. SetPlayerMode
	概要　：Audio sub-systemをplayer状態に遷移させる。
		アプリケーション起動時、もしくは「SetReadyStatusコマンド発行後」のみ、
		本コマンドの実行が可能となる。
	引数　：なし
	戻り値：エラーコード

4.2. 静的設定切り替え仕様
　　　【T.B.D】


----------------------------------------------------------------------
5. 基本シーケンス
----------------------------------------------------------------------

　　以下が音楽再生の通常シーケンスになる。

	0. 事前準備として、以下を行う。
		・別なFWなどを用いて、USB大容量メディアとしてeMMC上に、以下のディレクトリに、下記の音楽ファイルを作成。
			audio/

	1. ブート後、アプリケーションが起動すると、

	   > Music Player WakeUp!

	   と表示される。

	2. PlayMusicを発行し、音楽再生を開始。


	2.1. 楽曲の終端に来た場合、次の再生可能ファイルがある場合、そのファイルを。
	     ない場合は、その曲の先頭から再生を行う。（repeat再生）

	3. StopMusicを発行し、音楽再生を停止。



----------------------------------------------------------------------
6. 再生可能ファイル
----------------------------------------------------------------------

□MP3

・MP3（48kHz）
WAVE_48000_2ch_1ｘ_1khzSin.mp3

・MP3（44.1kHz）
 WAVE_44100_2ch_16_1khzSin.mp3

・MP3（32kHz）
WAVE_32000_2ch_16_1khz_500HzSin.mp3

□WAV

・WAV（48kHz）
WAVE_48000_2ch_16_1khz_500HzSin.wav

・WAV（44.1kHz）
WAVE_44100_2ch_16_1khz_500HzSin.wav

・WAV（32kHz）
WAVE_32000_2ch_16_1khz_500HzSin.wav

・WAV（16kHz）
WAVE_16000_2ch_16_1khz_500HzSin.wav

・WAV（96kHz）
WAVE_96000_2ch_16_1khz_31khzSn.wav

・WAV（88.2kHz）
WAVE_88200_2ch_16_1khz_25khzSn.wav

・WAV（64kHz）
WAVE_64000_2ch_16_1khz_500HzSn.wav

・WAV（192kHz）
WAVE_192000_2ch_16_1kHz_63khzSn.wav

・WAV（176.4kHz）
WAVE_176400_2ch_16_1kHz_50khzSn.wav

